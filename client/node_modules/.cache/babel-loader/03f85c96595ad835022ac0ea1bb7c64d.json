{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sristichowdhury/Desktop/bwHacks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sristichowdhury/Desktop/bwHacks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sristichowdhury/Desktop/bwHacks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import'./poststyles.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faThumbsUp}from'@fortawesome/free-solid-svg-icons';import{faThumbsDown}from'@fortawesome/free-solid-svg-icons';import{Link,useHistory}from'react-router-dom';import{UserContext}from'../../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostGrid=function PostGrid(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),allposts=_useState2[0],setAllPosts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/allPosts\",{headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")},method:\"get\"}).then(function(res){return res.json();}).then(function(res){setAllPosts(res.posts);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);})),[]);var increment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/like\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")},body:JSON.stringify({post_id:id})}).then(function(res){return res.json();}).then(function(result){setAllPosts(result.posts);}).catch(function(err){return alert(err);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function increment(_x){return _ref2.apply(this,arguments);};}();var decrement=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"/unlike\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")},body:JSON.stringify({post_id:id})}).then(function(res){return res.json();}).then(function(result){setAllPosts(result.posts);}).catch(function(err){return alert(err);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function decrement(_x2){return _ref3.apply(this,arguments);};}();var PostCard=function PostCard(_ref4){var post=_ref4.post;return/*#__PURE__*/_jsx(\"div\",{className:\"col cards-col col-lg-4 col-md-6 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"card-img-top\",style:{backgroundSize:\"contain\"},src:\"https://image.freepik.com/free-vector/hand-drawn-womens-day-concept_23-2148435898.jpg\",alt:\"Card image\"}),/*#__PURE__*/_jsx(\"div\",{class:\"card-img-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"body\",style:{padding:'10px 20px',fontWeight:'bolder'},children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-secondary\",style:{float:'right'},children:\"Anonymous\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:post.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:post.body}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-card\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{marginRight:'5px',color:'black'},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faThumbsUp,className:\"icon\",onClick:function onClick(){return increment(post._id);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faThumbsDown,className:\"icon\",onClick:function onClick(){return decrement(post._id);}})}),/*#__PURE__*/_jsxs(\"label\",{style:{float:'right'},children:[post.likes,\" Likes\"]})]})]})})]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-container\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://miro.medium.com/max/3840/1*gYptxAgBRVHvobYE8WBxJQ.png\",height:\"50px\",width:\"50px\",style:{marginTop:'-10px'}}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',fontWeight:'bold',fontSize:'30px'},className:\"navbar-brand\",children:\"Speak Up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",style:{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'space-evenly',marginTop:'5px'},children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"nav-link\",style:{color:'white',fontSize:'18px'},children:\"Add\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/grid\",className:\"nav-link\",style:{color:'white',fontSize:'18px'},children:\"Grid\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",style:{color:'white',fontSize:'18px'},onClick:function onClick(){localStorage.clear();dispatch({type:\"CLEAR\"});history.push(\"/signin\");},children:\"Logout\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"container homegrid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[allposts!=''&&allposts.map(function(post){return/*#__PURE__*/_jsx(PostCard,{post:post});}),allposts==''?/*#__PURE__*/_jsx(\"h1\",{children:\"Add Posts\"}):'']})})]});};export default PostGrid;","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/bwHacks/client/src/components/grid/PostGrid.js"],"names":["React","useContext","useEffect","useState","FontAwesomeIcon","faThumbsUp","faThumbsDown","Link","useHistory","UserContext","PostGrid","allposts","setAllPosts","likes","setLikes","state","dispatch","history","fetch","headers","localStorage","getItem","method","then","res","json","posts","catch","err","console","log","increment","id","body","JSON","stringify","post_id","result","alert","decrement","PostCard","post","backgroundSize","padding","fontWeight","float","title","marginRight","color","_id","display","alignItems","marginTop","marginLeft","fontSize","flexDirection","justifyContent","clear","type","push","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport './poststyles.css';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons'\nimport { faThumbsDown } from '@fortawesome/free-solid-svg-icons'\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../../App';\n\nconst PostGrid = () => {\n\n\n    const [allposts,setAllPosts]=useState('');\n    const [likes,setLikes]=useState('');\n\n    const { state, dispatch } = useContext(UserContext);\n\n\n    const history=useHistory();\n\n    useEffect(\n        async()=>{\n            await fetch(\"/allPosts\",\n            {\n              headers:\n              {\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")\n              },\n              method:\"get\"\n              \n            })\n            .then(res=>res.json())\n            .then(res=>\n              {\n                setAllPosts(res.posts);\n              })\n            .catch(err=>console.log(err))\n    },[]);\n\n\n    const increment = async(id) =>\n    {\n        \n        await fetch(\"/like\",\n           {\n             method:\"put\",\n             headers: \n             {\n               \"Content-Type\":\"application/json\",\n               \"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")\n      \n             },\n             body:JSON.stringify(\n                  {\n                      post_id:id\n                  }\n                )\n             \n           }).then(res=>res.json())\n           .then(result=>\n            {\n                setAllPosts(result.posts)\n            }).catch(err=>alert(err))\n        \n    }\n\n    const decrement = async(id) =>\n    {\n        \n        await fetch(\"/unlike\",\n           {\n             method:\"put\",\n             headers: \n             {\n               \"Content-Type\":\"application/json\",\n               \"Authorization\":\"Bearer\"+localStorage.getItem(\"jwt\")\n      \n             },\n             body:JSON.stringify(\n                  {\n                      post_id:id\n                  }\n                )\n             \n           }).then(res=>res.json())\n           .then(result=>\n            {\n                setAllPosts(result.posts)\n            }).catch(err=>alert(err))\n        \n    }\n\n    const PostCard = ({post})=>\n    {\n        return (\n\n\n             \n            <div className=\"col cards-col col-lg-4 col-md-6 mb-4\">\n            <div className=\"card\">\n            <img class=\"card-img-top\"  style={{backgroundSize:\"contain\"}}\n            src=\"https://image.freepik.com/free-vector/hand-drawn-womens-day-concept_23-2148435898.jpg\"\n            alt=\"Card image\"/>\n            <div class=\"card-img-overlay\">\n             <div className=\"body\"  style={{padding:'10px 20px',fontWeight:'bolder'}}>\n             <h6 className=\"text-secondary\" style={{float:'right'}}>Anonymous</h6>\n                          <h3 className=\"card-title\">{post.title}</h3>\n                          <p className=\"card-text\">{post.body}</p>\n                          <div className=\"footer-card\">\n                          <button className=\"btn\" style={{marginRight:'5px',color:'black'}}>\n                          <FontAwesomeIcon icon={faThumbsUp} className=\"icon\" onClick={()=>increment(post._id)}/>\n                          </button>\n                          <button className=\"btn\">\n                          <FontAwesomeIcon icon={faThumbsDown} className=\"icon\" onClick={()=>decrement(post._id)}/>\n                          </button>\n                          <label style={{float:'right'}}>{post.likes} Likes</label>\n                          </div>\n             </div>\n           \n            </div>\n            </div>\n            </div>\n        )\n    }\n\n\n    return (\n\n        <div className=\"post-container\">\n         <nav className=\"navbar navbar-expand-lg navbar-dark\">\n              <div style={{display:'flex',alignItems:'center'}}>\n              <Link to=\"/\">\n                <img src=\"https://miro.medium.com/max/3840/1*gYptxAgBRVHvobYE8WBxJQ.png\" height=\"50px\" width=\"50px\"\n                style={{marginTop:'-10px'}}/>\n                <span style={{marginLeft:'10px',fontWeight:'bold',fontSize:'30px'}}  className=\"navbar-brand\">Speak Up</span>\n                </Link>\n                <div>\n                  <ul className=\"navbar-nav\" style={{display:'flex',flexDirection:'row',\n                  alignItems:'center',justifyContent:'space-evenly',marginTop:'5px'}}>\n                    <li className=\"nav-item\">\n                      <Link to=\"/add\" className=\"nav-link\" style={{color:'white',fontSize:'18px'}}>Add</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                      <Link to=\"/grid\" className=\"nav-link\" style={{color:'white',fontSize:'18px'}}>Grid</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                    <a className=\"nav-link\" style={{color:'white',fontSize:'18px'}}\n                    onClick={()=>{\n                      localStorage.clear();\n                      dispatch({type:\"CLEAR\"})\n                      history.push(\"/signin\");\n                   }}>Logout</a></li>\n                  </ul>\n                </div>\n              </div>\n              </nav>\n     \n      \n                <div class=\"container homegrid\">\n            <div className=\"row\">\n                {allposts!='' && allposts.map((post)=>\n                {\n                  return(\n                     <PostCard post={post}/>\n                  )\n                })}\n                {allposts==''?<h1>Add Posts</h1>:''}\n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PostGrid\n"]},"metadata":{},"sourceType":"module"}