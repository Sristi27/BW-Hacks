{"ast":null,"code":"import _slicedToArray from\"/Users/sristichowdhury/Desktop/bwHacks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'./loginstyles.css';import $ from'jquery';import{useHistory}from'react-router';import{UserContext}from'../../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signin=function Signin(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var submitLogin=function submitLogin(e){e.preventDefault();fetch(\"/signin\",{headers:{\"Content-Type\":\"application/json\"},method:\"post\",body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(res){console.log(res);if(!res.error){localStorage.setItem(\"jwt\",res.token);//data.user was an object\nlocalStorage.setItem(\"user\",JSON.stringify(res.user));dispatch({type:\"USER\",payload:res.user});console.log(res);history.push(\"/\");}else{console.log(res.error);}}).catch(function(err){return alert(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"login-button\",onClick:function onClick(e){return submitLogin(e);},children:\"Login\"})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"bg-bubbles\",children:[/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsx(\"li\",{})]})]})});};export default Signin;","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/bwHacks/client/src/components/signin/Signin.jsx"],"names":["React","useContext","useState","$","useHistory","UserContext","Signin","state","dispatch","history","email","setEmail","password","setPassword","submitLogin","e","preventDefault","fetch","headers","method","body","JSON","stringify","then","res","json","console","log","error","localStorage","setItem","token","user","type","payload","push","catch","err","alert","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport './loginstyles.css'\nimport $ from 'jquery'\nimport { useHistory } from 'react-router'\n\nimport {UserContext} from '../../App'\n\n\n\n\n\nconst Signin = () => {\n\n\n\n    const {state,dispatch}=useContext(UserContext)\n\n    const history=useHistory();\n\n    const [email,setEmail]=useState('');\n    const [password,setPassword]=useState('');\n\n\n    const submitLogin =(e)=>\n    {\n        e.preventDefault();\n        fetch(\"/signin\",\n        {\n            headers:\n            {\n                \"Content-Type\":\"application/json\"\n            },\n            method:\"post\",\n            body:JSON.stringify({email,password})\n        }).then(res=>res.json())\n        .then(res=>\n            {\n                    console.log(res)\n                    if(!res.error)\n                    {\n                        localStorage.setItem(\"jwt\",res.token);\n                        //data.user was an object\n                        localStorage.setItem(\"user\",JSON.stringify(res.user))\n                        dispatch({type:\"USER\",payload:res.user})\n                        console.log(res)\n                        history.push(\"/\")\n                    }\n                    else\n                    {\n                         console.log(res.error)\n                    }\n            })\n        .catch(err=>alert(err))\n    }\n\n    return (\n        <div className=\"login-container\">\n            <div className=\"wrapper\">\n            <div className=\"container\">\n            <h1>Welcome</h1>\n                \n                <form className=\"form\">\n                <input type=\"email\" placeholder=\"Email\" onChange={(e)=>setEmail(e.target.value)}/>\n                <input type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)}/>\n                <button type=\"submit\" id=\"login-button\" onClick={(e)=>submitLogin(e)}>Login</button>\n                </form>\n            </div>\n            \n            <ul className=\"bg-bubbles\">\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default Signin\n"]},"metadata":{},"sourceType":"module"}